<template>
  <div class="navbar">
    <router-link to="/" class="navbar-header btn-tr">
      <span>R</span><span>D</span>
    </router-link>
    <div class="navbar-list">
      <div class="navbar-list__games">
        <router-link
          to="/"
          tag="div"
          :class="{ active: $route.path === '/' }"
          class="navbar-list__item"
        >
          <svg
            width="37"
            height="54"
            viewBox="0 0 37 54"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M36.2383 47.7185C35.6979 46.7206 34.8027 45.9929 33.7141 45.6699L33.2668 45.5368L33.7141 45.4036C34.8007 45.0797 35.6979 44.3519 36.2363 43.354C36.7766 42.3561 36.8962 41.2076 36.5732 40.1219C36.2502 39.0343 35.5225 38.137 34.5256 37.5968C33.5247 37.0544 32.3722 36.9368 31.2915 37.2618L18.3767 41.1058L5.45956 37.2619C4.37686 36.9399 3.2265 37.0566 2.22553 37.5969C1.22859 38.1372 0.500857 39.0345 0.177856 40.1211C-0.145144 41.2077 -0.0255139 42.3561 0.51483 43.354C1.05316 44.352 1.95039 45.0797 3.03701 45.4027L3.48586 45.5363L3.03701 45.6699C1.13978 46.2344 -0.0545123 48.0158 0.019371 49.9073C0.019371 49.9105 0.0184138 49.9135 0.0184138 49.9167C0.0184138 49.9181 0.0191797 49.9192 0.0191797 49.9206C0.033631 50.263 0.0757403 50.6074 0.177952 50.9505C0.500952 52.0382 1.22868 52.9354 2.22563 53.4757C2.70032 53.7326 3.21272 53.8617 3.7322 53.9256C3.84733 53.9706 3.9706 54.0001 4.10181 54.0001C4.14478 54.0001 4.18469 53.9888 4.22747 53.9874C4.23216 53.9874 4.23665 53.9891 4.24144 53.9891C4.26469 53.9891 4.28766 53.9793 4.31102 53.9789C4.57947 53.9649 4.83997 53.9281 5.09234 53.8645C5.21446 53.8395 5.33887 53.8467 5.45975 53.8106L18.3763 49.9673L27.8897 52.7983L28.2513 52.9234C28.2951 52.9383 28.3414 52.9371 28.3865 52.9461L31.2919 53.8106C31.6189 53.9084 31.9598 53.9602 32.3627 53.9732C32.4085 54.014 32.4584 53.9772 32.5062 53.9761C34.3804 53.9761 36.0393 52.7489 36.5736 50.9515C36.8962 49.8639 36.7766 48.7165 36.2383 47.7185ZM4.38586 51.901C3.97634 51.9273 3.56855 51.8794 3.19856 51.6803C2.68013 51.3991 2.30334 50.9346 2.13586 50.3693C2.07892 50.1778 2.08897 49.9873 2.08437 49.7964C2.14993 48.7298 3.01787 47.875 4.10171 47.875C5.22824 47.875 6.14336 48.7912 6.14336 49.9167C6.14336 50.9416 5.37218 51.7569 4.38586 51.901ZM34.6152 50.3704C34.3321 51.3245 33.4129 51.9226 32.4798 51.9366C31.4131 51.8468 30.6075 50.9795 30.6075 49.9168C30.6075 48.7914 31.5228 47.8752 32.6492 47.8752C33.7756 47.8752 34.6908 48.7914 34.6908 49.9168C34.6908 49.9417 34.6908 49.9667 34.6929 49.9916C34.6791 50.1181 34.6531 50.2447 34.6152 50.3704Z"
              fill="#2D2D2D"
            />
            <path
              d="M18.3595 37.6667C25.1126 37.6667 30.6076 32.1318 30.6076 25.3279C30.6076 24.9849 30.5856 24.6669 30.5617 24.3489L30.5398 24.0379C30.1669 19.1719 27.9359 16.1423 25.9659 13.4685C24.2054 11.0779 22.6841 9.01428 22.6841 6.02057C22.6841 5.63776 22.4687 5.28681 22.1277 5.11139C21.7888 4.93788 21.3761 4.96879 21.0671 5.19216C17.7413 7.58973 15.7036 11.8565 14.9679 14.7824C14.4217 16.9637 14.308 19.3812 14.284 21.1288C12.1247 20.2136 11.4488 16.5391 11.4409 16.4972C11.3851 16.1812 11.1856 15.909 10.8985 15.7634C10.6134 15.6199 10.2765 15.6129 9.98733 15.7555C9.83775 15.8282 6.32666 17.6257 6.12731 24.622C6.11133 24.8563 6.11133 25.0926 6.11133 25.3279C6.11142 32.1318 11.6064 37.6667 18.3595 37.6667Z"
              class="change"
              fill="#2D2D2D"
            />
          </svg>
        </router-link>
        <router-link
          to="/roulette"
          tag="div"
          :class="{ active: $route.path === '/roulette' }"
          class="navbar-list__item"
        >
          <svg
            width="40"
            height="40"
            viewBox="0 0 40 40"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M5.90695 21.1785H0C0.260302 25.6959 2.01429 29.9304 5.02453 33.3087L9.20625 29.127C7.35695 26.9435 6.15696 24.1938 5.90695 21.1785Z"
              fill="#2D2D2D"
            />
            <path
              d="M9.20625 10.8728L5.02453 6.69113C2.01429 10.0696 0.260302 14.3039 0 18.8214H5.90695C6.15696 15.806 7.35695 13.0564 9.20625 10.8728Z"
              fill="#2D2D2D"
            />
            <path
              d="M34.093 18.8214H40C39.7396 14.3041 37.9857 10.0696 34.9754 6.69113L30.7937 10.8729C32.643 13.0564 33.8431 15.806 34.093 18.8214Z"
              fill="#2D2D2D"
            />
            <path
              d="M18.8216 5.90684V-3.05176e-05C14.3043 0.260271 10.0698 2.01418 6.69141 5.02442L10.8731 9.20622C13.0567 7.35685 15.8062 6.15685 18.8216 5.90684Z"
              fill="#2D2D2D"
            />
            <path
              d="M33.3089 5.0245C29.9306 2.01426 25.6962 0.260271 21.1787 -3.05176e-05V5.90692C24.1941 6.15693 26.9436 7.35692 29.1272 9.20622L33.3089 5.0245Z"
              fill="#2D2D2D"
            />
            <path
              d="M21.1787 34.093V40C25.6961 39.7396 29.9306 37.9857 33.3089 34.9754L29.1272 30.7937C26.9436 32.643 24.1941 33.843 21.1787 34.093Z"
              fill="#2D2D2D"
            />
            <path
              d="M6.69141 34.9754C10.0698 37.9856 14.3043 39.7396 18.8216 39.9999V34.0929C15.8062 33.8429 13.0567 32.6429 10.8731 30.7936L6.69141 34.9754Z"
              fill="#2D2D2D"
            />
            <path
              d="M30.7937 29.127L34.9754 33.3087C37.9857 29.9304 39.7396 25.6959 40 21.1785H34.093C33.8431 24.1938 32.643 26.9435 30.7937 29.127Z"
              fill="#2D2D2D"
            />
            <path
              d="M20.0001 18.8214C19.3502 18.8214 18.8215 19.3501 18.8215 20C18.8808 21.5613 21.1197 21.5609 21.1786 20C21.1786 19.35 20.65 18.8214 20.0001 18.8214Z"
              fill="#4B4B4B"
            />
            <path
              d="M31.7855 20C31.7855 13.5015 26.4985 8.21454 20 8.21454C4.38651 8.80703 4.39075 31.1953 20.0002 31.7855C26.4985 31.7855 31.7855 26.4984 31.7855 20ZM27.0713 21.1785H23.333C22.9773 22.1814 22.1814 22.9772 21.1786 23.3329V27.0713H18.8215V23.3329C17.8186 22.9772 17.0228 22.1814 16.6671 21.1785H12.9288V18.8215H16.6671C17.0228 17.8186 17.8186 17.0228 18.8215 16.6671V12.9287H21.1786V16.6671C22.1814 17.0228 22.9773 17.8186 23.333 18.8215H27.0713V21.1785Z"
              class="change"
              fill="#4B4B4B"
            />
          </svg>
        </router-link>
        <router-link
          to="/upgrade"
          tag="div"
          :class="{ active: $route.path === '/upgrade' }"
          class="navbar-list__item"
        >
          <svg
            width="44"
            height="43"
            viewBox="0 0 44 43"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M6.87611 41.9671L22.2597 26.4127L27.0272 31.2332L39.0034 19.1239L24.5368 4.49655L12.5602 16.6058L17.3277 21.4263L1.94453 36.9808C0.582619 38.3579 0.582619 40.5906 1.94453 41.9676C3.30643 43.3443 5.5142 43.3443 6.87611 41.9671Z"
              fill="#2D2D2D"
            />
            <path
              d="M9.99991 15.87C10.1817 16.0539 10.4193 16.1455 10.6574 16.1455C10.8955 16.1455 11.1336 16.0539 11.3149 15.87L11.5739 15.6081L23.5501 3.49887L23.809 3.23698C24.1721 2.86977 24.1721 2.27463 23.809 1.90742L22.1951 0.275485C22.0137 0.091649 21.7757 0 21.5376 0C21.2994 0 21.0614 0.091649 20.88 0.275485L8.38591 12.9085C8.02273 13.2757 8.02273 13.8709 8.38591 14.2382L9.99991 15.87Z"
              class="change"
              fill="#4B4B4B"
            />
            <path
              d="M41.5639 19.8597C41.3821 19.6759 41.1445 19.5842 40.9064 19.5842C40.6684 19.5842 40.4303 19.6759 40.249 19.8597L39.9899 20.1216L28.0138 32.2309L27.7547 32.4927C27.3916 32.8598 27.3916 33.455 27.7547 33.8224L29.3687 35.4542C29.5506 35.6381 29.7881 35.7297 30.0262 35.7297C30.2642 35.7297 30.5024 35.6381 30.6837 35.4542L43.1777 22.8212C43.5408 22.4541 43.5408 21.8589 43.1777 21.4916L41.5639 19.8597Z"
              class="change"
              fill="#4B4B4B"
            />
          </svg>
        </router-link>
      </div>
    </div>
    <div class="navbar-sound">
      <svg
        @click="changeSound"
        xmlns="http://www.w3.org/2000/svg"
        width="30px"
        height="30px"
        viewBox="0 0 28 28"
        fill="#de3720"
      >
        <path
          d="M14.395 3.90244C15.1932 3.15384 16.5 3.71986 16.5 4.81425V23.1843C16.5 24.2785 15.1937 24.8446 14.3953 24.0964L9.45832 19.4703C9.134 19.1664 8.70619 18.9973 8.26174 18.9973H5.25C3.45507 18.9973 2 17.5422 2 15.7473V12.2553C2 10.4604 3.45508 9.00529 5.25 9.00529H8.26119C8.70587 9.00529 9.13388 8.836 9.45826 8.53182L14.395 3.90244Z"
          fill="#de3720"
        />
        <path
          v-if="sound"
          d="M21.6436 5.18437C21.9546 4.91079 22.4285 4.94114 22.702 5.25215C24.7544 7.58537 26 10.6481 26 13.9999C26 17.3517 24.7544 20.4145 22.702 22.7477C22.4285 23.0587 21.9546 23.089 21.6436 22.8155C21.3325 22.5419 21.3022 22.068 21.5758 21.757C23.3966 19.687 24.5 16.9733 24.5 13.9999C24.5 11.0266 23.3966 8.31278 21.5758 6.24286C21.3022 5.93185 21.3325 5.45795 21.6436 5.18437Z"
          fill="#de3720"
        />
        <path
          v-if="sound"
          d="M20.3528 8.3028C20.1042 7.9715 19.6341 7.90448 19.3028 8.1531C18.9715 8.40173 18.9044 8.87185 19.1531 9.20315C20.156 10.5397 20.75 12.1993 20.75 13.9999C20.75 15.8005 20.156 17.4602 19.1531 18.7967C18.9044 19.128 18.9715 19.5981 19.3028 19.8467C19.6341 20.0954 20.1042 20.0283 20.3528 19.697C21.544 18.1098 22.25 16.1362 22.25 13.9999C22.25 11.8636 21.544 9.89006 20.3528 8.3028Z"
          fill="#de3720"
        />
      </svg>
    </div>
    <div class="navbar-lang">
      <div class="lang-select">
        <img
          v-if="$root.language === 'ru'"
          @click="$root.changeLanguage('en')"
          src="/img/ru.png"
          alt=""
        />
        <img
          v-else
          @click="$root.changeLanguage('ru')"
          src="/img/en.png"
          alt=""
        />
      </div>
    </div>
    <div class="navbar-footer">
      <div class="navbar-footer__soc">
        <div
          class="navbar-footer__soc-item btn-tr"
          @click="open($root.settings.common.discord_group)"
        >
          <svg
            width="23"
            height="17"
            viewBox="0 0 23 17"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M18.9334 1.82684C17.5041 1.17893 15.9758 0.70806 14.3781 0.439941C14.1819 0.78366 13.9526 1.24597 13.7946 1.61373C12.0961 1.36626 10.4133 1.36626 8.74608 1.61373C8.58805 1.24597 8.3536 0.78366 8.15563 0.439941C6.55615 0.70806 5.02615 1.18066 3.59687 1.83027C0.714003 6.05104 -0.0674941 10.167 0.323256 14.2245C2.23532 15.6079 4.08835 16.4483 5.9101 16.9982C6.3599 16.3985 6.76106 15.7609 7.10665 15.0889C6.44846 14.8466 5.81806 14.5476 5.2224 14.2004C5.38042 14.087 5.535 13.9684 5.68434 13.8464C9.31743 15.4928 13.2649 15.4928 16.8546 13.8464C17.0057 13.9684 17.1602 14.087 17.3165 14.2004C16.7191 14.5493 16.087 14.8483 15.4288 15.0906C15.7744 15.7609 16.1738 16.4002 16.6253 16.9999C18.4488 16.45 20.3036 15.6096 22.2156 14.2245C22.6741 9.52081 21.4324 5.44267 18.9334 1.82684ZM7.60161 11.7292C6.511 11.7292 5.6166 10.7427 5.6166 9.54142C5.6166 8.34015 6.4919 7.35199 7.60161 7.35199C8.71136 7.35199 9.60573 8.33842 9.58663 9.54142C9.58835 10.7427 8.71136 11.7292 7.60161 11.7292ZM14.9373 11.7292C13.8467 11.7292 12.9523 10.7427 12.9523 9.54142C12.9523 8.34015 13.8275 7.35199 14.9373 7.35199C16.047 7.35199 16.9414 8.33842 16.9223 9.54142C16.9223 10.7427 16.047 11.7292 14.9373 11.7292Z"
              fill="#2D2D2D"
            />
          </svg>
        </div>
        <div
          class="navbar-footer__soc-item btn-tr"
          @click="open($root.settings.common.twitter_url)"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            id="Layer_1"
            width="27"
            height="19"
            version="1.1"
            viewBox="0 0 512 512"
            xml:space="preserve"
          >
            <g>
              <path
                d="M3.5,421.4c56,5.1,106.1-8.9,151.5-42.9c-7-1.6-13.4-1.6-19.5-3.1c-35.7-8.5-60.4-30-74.9-63.5   c-0.7-1.7-2.5-3.8-0.9-5.5c1.2-1.3,3.5-0.2,5.2,0c12.6,1.3,25.2,0.9,37.6-2c0.2-2.2-1.4-2-2.6-2.4c-30.7-8.2-53-26.5-67.4-54.8   c-6.6-13-10.2-26.6-10.6-41.2c-0.2-5.7,0.1-5.8,5.4-3.3c12.6,6,25.8,9.4,40.9,10.1c-6.9-5.6-13.1-10.5-18.4-16.4   c-16.1-17.9-25.1-38.8-27-62.9c-1.5-19.6,2.6-37.9,11.1-55.5c1.9-3.9,3.6-3.6,6-0.7C56.6,97.7,76.1,115,97.6,130   c16,11.2,33,20.5,50.9,28.4c23.6,10.3,48.1,17.2,73.5,21.3c8,1.3,16.2,1.6,24.3,2.4c4.1,0.4,5.2-0.8,4.4-5   c-4.1-21.6-1.3-42.6,8.1-62.3c16.1-33.6,43.1-54,79.8-59.4c32.6-4.8,61.9,4.5,86.2,27.4c3.7,3.5,7,4.4,12,3.1   c19.6-5,38.3-12.1,55.9-22.1c0.5-0.3,1.1-0.4,2.9-1.1c-8.2,24.1-22.7,41.9-43,55.5c4.7,0.9,18.6-1.6,28.2-4.6   c9.2-2.9,18.4-5.5,27.2-9.4c1.2,1.3,0.1,2-0.4,2.7c-11.7,16.5-25.1,31.4-41.1,43.8c-2.2,1.7-4.3,3.6-6.6,5.2   c-1.7,1.2-1.8,2.7-1.7,4.4c0.7,18.2-0.6,36.3-3.2,54.2c-2.7,18.3-7.3,36.1-13.4,53.6c-5,14.3-10.9,28.2-17.9,41.7   c-17.3,33.2-39.8,62.4-67.9,87.3c-29.9,26.4-63.9,45.4-101.9,57.2c-23.7,7.4-48,11.7-72.9,13c-19.2,1-38.3,0.7-57.3-1.7   c-27.2-3.3-53.4-10.7-78.6-21.5c-12.9-5.5-25.1-12.1-37.3-19C6.1,424.4,4.4,423.6,3.5,421.4z"
                fill="#2D2D2D"
              />
            </g>
          </svg>
        </div>
      </div>
      <div class="navbar-divider"></div>
      <div class="navbar-footer__links">
        <router-link class="btn-tr" to="/contact" v-html="this.$t('content.navbar.contact')"></router-link>
        <router-link class="btn-tr" to="/policy" v-html="this.$t('content.navbar.policy')"></router-link>
      </div>
    </div>
  </div>
</template>

<script>
export default {
  data() {
    return {
      sound: false,
    };
  },
  mounted() {
    if (this.$cookie.get("sound")) {
      if (this.$cookie.get("sound") === "1") {
        this.sound = true;
      } else {
        this.sound = false;
      }
    }
  },
  watch: {
    sound(val) {
      this.$cookie.set("sound", val ? "1" : "0");
      if(!val){
        this.$root.stopSound()
      }
    },
  },
  methods: {
    changeSound() {
      this.sound = !this.sound;
    },
    open(link) {
      window.open(link, "_blank");
    },
  },
};
</script>

<style lang="scss" scoped>
.lang-select {
  display: flex;
  align-items: center;
  justify-content: center;
  img {
    width: 30px;
    height: 30px;
  }
}
.navbar {
  width: 100px;
  height: calc(100vh - 20px);
  position: fixed;
  left: 10px;
  top: 10px;
  background: #181818;
  border-radius: 20px;
  overflow: hidden;

  &-sound {
    cursor: pointer;
    position: absolute;
    bottom: 180px;
    left: 50%;
    transform: translateX(-50%);
  }

  &-lang {
    cursor: pointer;
    position: absolute;
    bottom: 140px;
    left: 50%;
    transform: translateX(-50%);
  }
  &-header {
    background: rgba(48, 48, 48, 0.8);
    box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.2);
    height: 50px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 34px;
    span {
      font-weight: bold;
      font-size: 24px;
      line-height: 29px;
      &:first-child {
        color: #de3720;
      }
      &:last-child {
        color: #fff;
      }
    }
  }

  &-divider {
    background: #2d2d2d;
    border-radius: 5px;
    width: 76px;
    height: 2px;
    margin: 0 auto;
  }

  &-list {
    display: flex;
    flex-direction: column;
    align-items: center;
    .navbar-divider {
      margin: 30px 0;
    }
    &__rust,
    &__games {
      display: flex;
      flex-direction: column;
      & > div {
        margin: 0 auto;
        transition: all 300ms;
        cursor: pointer;
        &:hover {
          .change {
            fill: #de3720;
          }
        }
        &.active {
          .change {
            fill: #de3720;
          }
        }
        &:not(:last-child) {
          margin-bottom: 53px;
        }
      }
    }
  }

  &-footer {
    position: absolute;
    bottom: 23px;
    width: calc(100% - 12px);
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    &__soc {
      display: grid;
      gap: 20px 15px;
      width: 62px;
      grid-template-columns: repeat(2, 1fr);
    }

    .navbar-divider {
      margin-top: 16px;
      margin-bottom: 16px;
    }

    &__links {
      display: flex;
      flex-direction: column;
      row-gap: 7px;
      a {
        font-weight: 500;
        font-size: 10px;
        line-height: 12px;
        color: #2d2d2d;
        text-align: center;
      }
    }
  }
}

@media screen and (max-width: 900px) {
  .navbar {
    height: 60px;
    width: 100%;
    bottom: 0;
    top: unset;
    left: 0;
    border-radius: 0;
    z-index: 99;
    display: flex;
    padding: 8px 10px 9px 20px;

    &-header {
      display: none;
    }

    &-divider {
      background: #2d2d2d;
      width: 2px;
      height: 43px;
    }

    &-list {
      flex-direction: row;
      .navbar-divider {
        margin: 0 10px;
      }
      &__games {
        flex-direction: row;
        & > div:not(:last-child) {
          margin-bottom: 0;
          margin-right: 15px;
        }
      }

      svg {
        max-height: 33px;
      }

      &__rust {
        flex-direction: row;
      }
    }

    &-sound {
      position: relative;
      left: unset;
      bottom: unset;
      transform: unset;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-left: auto;
      margin-right: 20px;
    }

    &-lang {
      position: relative;
      left: unset;
      bottom: unset;
      transform: unset;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 60px;
    }

    &-footer {
      display: none;
    }
  }
}
</style>